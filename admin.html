<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Gerenciar Canais</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Painel de Administração</h1>

        <!-- Gerenciar Usuários -->
        <h3 class="mt-4">Usuários</h3>
        <form id="user-form" class="mt-3">
            <div class="form-group mb-3">
                <label for="username">Usuário</label>
                <input type="text" id="username" class="form-control" required>
            </div>
            <div class="form-group mb-3">
                <label for="password">Senha</label>
                <input type="text" id="password" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary w-100">Adicionar Usuário</button>
        </form>
        <ul id="user-list" class="list-group mt-3"></ul>

        <!-- Gerenciar Canais -->
        <h3 class="mt-4">Canais</h3>
        <form id="channel-form" class="mt-3">
            <div class="form-group mb-3">
                <label for="channel-name">Nome do Canal</label>
                <input type="text" id="channel-name" class="form-control" required>
            </div>
            <div class="form-group mb-3">
                <label for="channel-link">Link do Canal</label>
                <input type="url" id="channel-link" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary w-100">Adicionar Canal</button>
        </form>
        <ul id="channel-list" class="list-group mt-3"></ul>
    </div>

    <script>
        const users = JSON.parse(localStorage.getItem('users')) || {};
        const channels = JSON.parse(localStorage.getItem('channels')) || [];

        // Gerenciar usuários
        document.getElementById('user-form').addEventListener('submit', (event) => {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            users[username] = { password, channel: "" };
            localStorage.setItem('users', JSON.stringify(users));
            updateUserList();
            event.target.reset();
        });

        function updateUserList() {
            const userList = document.getElementById('user-list');
            userList.innerHTML = '';
            Object.keys(users).forEach((username) => {
                const li = document.createElement('li');
                li.textContent = username;
                userList.appendChild(li);
            });
        }
        updateUserList();

        // Gerenciar canais
        document.getElementById('channel-form').addEventListener('submit', (event) => {
            event.preventDefault();
            const name = document.getElementById('channel-name').value;
            const link = document.getElementById('channel-link').value;

            channels.push({ name, link });
            localStorage.setItem('channels', JSON.stringify(channels));
            updateChannelList();
            event.target.reset();
        });

        function updateChannelList() {
            const channelList = document.getElementById('channel-list');
            channelList.innerHTML = '';
            channels.forEach((channel, index) => {
                const li = document.createElement('li');
                li.textContent = `${channel.name} - ${channel.link}`;
                channelList.appendChild(li);
            });
        }
        updateChannelList();
    </script>
</body>
</html>
